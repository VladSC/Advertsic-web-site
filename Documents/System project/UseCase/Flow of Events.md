# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Открыть сайт](#enter_the_site)  
2.2 [Зарегистрироваться](#reg)  
2.3 [Войти в свою учётную запись](#login)  
2.4 [Загрузить объявления](#load)  
2.5 [Добавить новое объявление](#add)  
2.6 [Просмотр личных объявлений](#view)  
2.7 [Редактировать объявление](#edit)  
2.8 [Удалить объявление](#delete)  
2.9 [Выйти из аккаунта](#logout)  


<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Анонимный пользователь | Пользователь, который использует сайт без авторизации |
| Авторизованный пользователь | Пользователь, который использует сайт после авторизации |
| База объявлений | База данных, в которой хранятся объявления пользователей |

<a name="use_case"/>

# 2 Варианты использования

<a name="enter_the_site"/>

## 2.1 Открыть сайт

**Описание.** Вариант использования "Открыть сайт" позволяет пользователю войти на сайт.  
**Основной поток.**
1.	Вариант использования начинается, когда пользователь открывает главную страницу сайта;
2.	Сайт загружает список объявлений: [загрузить объявления](#load).
3.	Вариант использования завершается.

<a name="reg"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет анонимному пользователю создать свою учётную запись на сайте.  
**Предусловия.** Пользователь выбрал способ "Зарегистрироваться" для входа в приложение.  
**Основной поток.**
1.	Сайт отображает страницу авторизации;
2.	Пользователь вводит свой e-mail и пароль;
3.	Пользователь нажимает на кнопку sign up;
4.	Сайт проверяет на корректность введённые данные пользователя. Если данные введены некорректно, выполняется альтернативный поток А1;
5.	Сайт проверят введённый e-mail на совпадение с e-mail’ами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А2;
6.	Сайт создает профиль пользователя;
7.	Сайт переводит пользователя на страницу с доской объявлений;
8.	Вариант использования завершается.

**Альтернативный поток А1.**
1.	Сайт сообщает пользователю, что данные введены некорректно;
2.	Возврат к п.2 основного потока.

**Альтернативный поток А2.**
1.	Сайт сообщает пользователю, что пользователь с таким именем уже существует;
2.	Возврат к п.2 основного потока

<a name="login"/>

## 2.3 Войти в свою учётную запись

**Описание.** Вариант использования "Войти в свою учётную запись" позволяет пользователю войти в учётную запись.  
**Предусловия.** Пользователь выбрал способ "Войти в свою учётную запись" для входа в приложение.   
**Основной поток.**
1.	Сайт отображает окно авторизации;
2.	Пользователь вводит свой e-mail и пароль;
3.	Сайт проверяет на корректность введённые данные пользователя. Если данные введены некорректно, выполняется альтернативный поток А3; 
4.	Сайт проверяет наличие пользователя с заданным e-mail’ом в системе. Если такого пользователя нет, выполняется альтернативный поток А4;
5.	Сайт проверяет совпадение введённого пароля с соответствующим в системе. Если пароль не совпадает, выполняется альтернативный поток А4;
6.	Сайт переводит пользователя на страницу с доской объявлений;
7.	Вариант использования завершается.


**Альтернативный поток А3.**
1.	Сайт сообщает, что данные введены некорректно;
2.	Возврат к п.2 основного потока.

**Альтернативный поток А4.**
1.	Сайт сообщает, что авторизационные данные введены неверно;
2.	Возврат к п.2 основного потока.

<a name="load"/>

## 2.4 Загрузить объявления

**Описание.** Вариант использования "Загрузить объявления" загружает информацию из базы объявлений.  
**Основной поток.**
1.	Сайт получает список объявлений, хранящихся в базе данных;
2.	Сайт отображает объявления из списка в таблице аккаунта пользователя;
3.	Вариант использования завершается.

<a name="add"/>

## 2.5 Добавить новое объявление

**Описание.** Вариант использования "Добавить новое объявление" позволяет авторизованному пользователю добавить новое объявление.  
**Предусловия.** Авторизованный пользователь выбрал "Добавить новое объявление”.   
**Основной поток.**
1.	Сайт открывает страницу добавления нового объявления;
2.	Пользователь вводит содержимое объявления;
3.	Пользователь нажимает кнопку "Add";
4.	Сайт проверяет на корректность введённые данные пользователя. Если данные введены некорректно, выполняется альтернативный поток А5; 
5.	Сайт добавляет новое объявление в базу данных;
6.	Вариант использования завершается.

**Альтернативный поток А5.**
1.	Сайт сообщает, что данные введены некорректно;
2.	Возврат к п.2 основного потока.

<a name="view"/>

## 2.6 Просмотр личных объявлений

**Описание.** Вариант использования "Просмотр личных объявлений" позволяет авторизованному пользователю просматривать свои объявления.  
**Предусловия.** Авторизованный пользователь нажал кнопку “My ads” на странице с доской объявлений.  
**Основной поток.**
1.	Сайт открывает страницу со списком объявлений пользователя
2.	Вариант использования завершается.

<a name="edit"/>

## 2.7 Редактировать объявление

**Описание.** Вариант использования "Редактировать объявление" позволяет авторизованному пользователю редактировать личное объявление.  
**Предусловия.** Авторизованный пользователь нажал кнопку “edit” на странице просмотра личных объявлений.  
**Основной поток.**
1.	Сайт открывает страницу редактирования объявления;
2.	Пользователь изменяет информацию объявления;
3.	Пользователь нажимает кнопку “save”;
4.	Сайт проверяет на корректность введённые данные пользователя. Если данные введены некорректно, выполняется альтернативный поток А6; 
5.	Сайт сохраняет изменённое объявление в базе данных;
6.	Сайт переводит пользователя на страницу c личными объявлениями;
7.	Вариант использования завершается.

**Альтернативный поток А6.**
1.	Сайт сообщает, что данные введены некорректно;
2.	Возврат к п.2 основного потока.

<a name="delete"/>

## 2.8 Удалить объявление

**Описание.** Вариант использования "Удалить объявление" позволяет авторизованному пользователю удалить личное объявление.  
**Предусловия.** Авторизованный пользователь нажал кнопку “delete” на странице просмотра личных объявлений.  
**Основной поток.**
1.	Сайт удаляет объявление из базы данных;
2.	Вариант использования завершается.

<a name="logout"/>

## 2.9 Выйти из аккаунта

**Описание.** Вариант использования "Выйти из аккаунта" позволяет авторизованному пользователю выйти из учётной записи.  
**Предусловия.** Авторизованный пользователь выбрал "sign out" на странице с доской объявлений.  
**Основной поток.**
1.	Сайт возвращает пользователя на страницу [авторизации](#login);
2.	Вариант использования завершается.
